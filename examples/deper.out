-- vim: ft=idris

### Desugared ###

  let
    postulate Bool : Type
    postulate T : Bool
    postulate F : Bool
    postulate TwoBools : Type
    postulate TB : (x :R: Bool) -> (y :R: Bool) -> TwoBools
    id : (_x0 : Bool) -> Bool = (\x : Bool. x)
    constT : (_x1 : Bool) -> Bool = (\_0 : Bool. T)
    fty : (_x2 : Bool) -> Type 
      fty T = (_x3 : Bool) -> Bool
      fty F = (_x4 : Bool) -> Bool
    f : (x : Bool) -> fty x 
      f T = id
      f F = constT
    main : TwoBools = TB (f T F) (f F F)
  in main

### Evarified ###

  let
    postulate Bool :1: Type
    postulate T :2: Bool
    postulate F :3: Bool
    postulate TwoBools :4: Type
    postulate TB :5: (x :R: Bool) -> (y :R: Bool) -> TwoBools
    id :6: (_x0 :7: Bool) -> Bool = (\x :8: Bool. x)
    constT :9: (_x1 :10: Bool) -> Bool = (\_0 :11: Bool. T)
    fty :12: (_x2 :13: Bool) -> Type 
      fty -14- T = (_x3 :15: Bool) -> Bool
      fty -16- F = (_x4 :17: Bool) -> Bool
    f :18: (x :19: Bool) -> fty -20- x 
      f -21- T = id
      f -22- F = constT
    main :23: TwoBools = TB -25- (f -27- T -26- F) -24- (f -29- F -28- F)
  in main

### Constraints ###

[] -> [2,3,5,6,7,8,9,15,18,19,21,22,24,25,26,27,29,R]
[10] -> [11,17]
[11] -> [10]
[17] -> [10,28]
[28] -> [17]
[R] -> [23]

### Solution ###

[2,3,5,6,7,8,9,15,18,19,21,22,23,24,25,26,27,29,R]

### Annotated ###

  let
    postulate Bool :E: Type
    postulate T :R: Bool
    postulate F :R: Bool
    postulate TwoBools :E: Type
    postulate TB :R: (x :R: Bool) -> (y :R: Bool) -> TwoBools
    id :R: (_x0 :R: Bool) -> Bool = (\x :R: Bool. x)
    constT :R: (_x1 :E: Bool) -> Bool = (\_0 :E: Bool. T)
    fty :E: (_x2 :E: Bool) -> Type 
      fty -E- T = (_x3 :R: Bool) -> Bool
      fty -E- F = (_x4 :E: Bool) -> Bool
    f :R: (x :R: Bool) -> fty -E- x 
      f -R- T = id
      f -R- F = constT
    main :R: TwoBools = TB -R- (f -R- T -R- F) -R- (f -R- F -E- F)
  in main

### Specialised ###

  let
    postulate Bool :E: Type
    postulate T :R: Bool
    postulate F :R: Bool
    postulate TwoBools :E: Type
    postulate TB :R: (x :R: Bool) -> (y :R: Bool) -> TwoBools
    id :R: (_x0 :R: Bool) -> Bool = (\x :R: Bool. x)
    constT :R: (_x1 :E: Bool) -> Bool = (\_0 :E: Bool. T)
    fty :E: (_x2 :E: Bool) -> Type 
      fty -E- T = (_x3 :R: Bool) -> Bool
      fty -E- F = (_x4 :E: Bool) -> Bool
    f :R: (x :R: Bool) -> fty -E- x 
      f -R- T = id
      f -R- F = constT
    main :R: TwoBools = TB -R- (f -R- T -R- F) -R- (f -R- F -E- F)
  in main

### Final annotation ###

  let
    postulate Bool :E: Type
    postulate T :R: Bool
    postulate F :R: Bool
    postulate TwoBools :E: Type
    postulate TB :R: (x :R: Bool) -> (y :R: Bool) -> TwoBools
    id :R: (_x0 :R: Bool) -> Bool = (\x :R: Bool. x)
    constT :R: (_x1 :E: Bool) -> Bool = (\_0 :E: Bool. T)
    fty :E: (_x2 :E: Bool) -> Type 
      fty -E- T = (_x3 :R: Bool) -> Bool
      fty -E- F = (_x4 :E: Bool) -> Bool
    f :R: (x :R: Bool) -> fty -E- x 
      f -R- T = id
      f -R- F = constT
    main :R: TwoBools = TB -R- (f -R- T -R- F) -R- (f -R- F -E- F)
  in main

### Verification ###

Verification successful.

### Pruned ###

  let
    postulate T : Bool
    postulate F : Bool
    postulate TB : (x) -> (y) -> TwoBools
    id = (\x. x)
    constT = T
    f 
      f T = id
      f F = constT
    main = TB (f T F) (f F)
  in main

### Normal forms ###

unerased:
  
  let
    postulate T : Bool
    postulate F : Bool
    postulate TB : (x :R: Bool) -> (y :R: Bool) -> TwoBools
  in TB F T

erased:
  
  let
    postulate T : Bool
    postulate F : Bool
    postulate TB : (x) -> (y) -> TwoBools
  in TB F T

