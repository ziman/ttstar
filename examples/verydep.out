-- vim: ft=agda

### Desugared ###

Void : *
Void = (axiom)

Maybe : (_ : *) -> *
Maybe = (axiom)

Just : (a : *) -> (x : a) -> (Maybe a)
Just = (axiom)

Nothing : (a : *) -> (Maybe a)
Nothing = (axiom)

Bool : *
Bool = (axiom)

True : Bool
True = (axiom)

False : Bool
False = (axiom)

retTy : (x : (Maybe Bool)) -> *
retTy = \x : (Maybe Bool). 
  case x of
    Just (a : *) (t : a) -> Bool
    Nothing (a : *) -> *

f : (x : (Maybe Bool)) -> (retTy x)
f = \x : (Maybe Bool). 
  case x of
    Just (a : *) (b : a) -> b
    Nothing (a : *) -> Bool

main  -R-  Bool
main = (f (Just Bool False))

### Metaified ###

Void :?1: *
Void = (axiom)

Maybe :?2: (_ :?3: *) -> *
Maybe = (axiom)

Just :?4: (a :?5: *) -> (x :?6: a) -> (Maybe -?7- a)
Just = (axiom)

Nothing :?8: (a :?9: *) -> (Maybe -?10- a)
Nothing = (axiom)

Bool :?11: *
Bool = (axiom)

True :?12: Bool
True = (axiom)

False :?13: Bool
False = (axiom)

retTy :?14: (x :?15: (Maybe -?16- Bool)) -> *
retTy = \x :?17: (Maybe -?18- Bool). 
  case x of
    Just (a :?20: *) (t :?21: a) -> Bool
    Nothing (a :?23: *) -> *

f :?24: (x :?25: (Maybe -?26- Bool)) -> (retTy -?27- x)
f = \x :?28: (Maybe -?29- Bool). 
  case x of
    Just (a :?31: *) (b :?32: a) -> b
    Nothing (a :?34: *) -> Bool

main :!R: Bool
main = (f -?35- (Just -?37- Bool -?36- False))

### Constraints ###

[?4] <- [?19]
[?4] <- [?30]
[?4] <- [?35,!R]
[?5] <- [?20]
[?5] <- [?31]
[?5] <- [?35,?37]
[?6] <- [?21]
[?6] <- [?32]
[?6] <- [?35,?36]
[?7] <- [?26]
[?7] <- [?29]
[?8] <- [?22]
[?8] <- [?33]
[?9] <- [?23]
[?9] <- [?34]
[?10] <- [?29]
[?11] <- [?35,?37,!R]
[?11] <- [!R]
[?13] <- [?35,?36,!R]
[?15] <- [?17]
[?16] <- [?18]
[?17] <- [?15]
[?17] <- [!R]
[?18] <- [?16]
[?19] <- [?4]
[?19] <- [?30]
[?20] <- [?5]
[?21] <- [?6]
[?22] <- [?8]
[?22] <- [?33]
[?23] <- [?9]
[?24] <- [!R]
[?25] <- [?28]
[?25] <- [?35]
[?25] <- [!R]
[?26] <- [?7]
[?26] <- [?29]
[?28] <- [?25]
[?28] <- [!R]
[?29] <- [?7]
[?29] <- [?10]
[?29] <- [?26]
[?30] <- [?4]
[?30] <- [?19]
[?31] <- [?5]
[?32] <- [?6]
[?32] <- [!R]
[?33] <- [?8]
[?33] <- [?22]
[?34] <- [?9]
[?35] <- [?25]
[?36] <- [?6,?35]
[?37] <- [?5,?35]

### Solution ###

[?4,?6,?11,?13,?15,?17,?19,?21,?24,?25,?28,?30,?32,?35,?36,!R]

### Annotated ###

Void :I: *
Void = (axiom)

Maybe :I: (_ :I: *) -> *
Maybe = (axiom)

Just :R: (a :I: *) -> (x :R: a) -> (Maybe -I- a)
Just = (axiom)

Nothing :I: (a :I: *) -> (Maybe -I- a)
Nothing = (axiom)

Bool :R: *
Bool = (axiom)

True :I: Bool
True = (axiom)

False :R: Bool
False = (axiom)

retTy :I: (x :R: (Maybe -I- Bool)) -> *
retTy = \x :R: (Maybe -I- Bool). 
  case x of
    Just (a :I: *) (t :R: a) -> Bool
    Nothing (a :I: *) -> *

f :R: (x :R: (Maybe -I- Bool)) -> (retTy -I- x)
f = \x :R: (Maybe -I- Bool). 
  case x of
    Just (a :I: *) (b :R: a) -> b
    Nothing (a :I: *) -> Bool

main :R: Bool
main = (f -R- (Just -I- Bool -R- False))

### Pruned ###

Just = (axiom)

Bool = (axiom)

False = (axiom)

f = \x. 
  case x of
    Just b -> b
    Nothing -> Bool

main = (f (Just False))

