-- vim: ft=agda

### Desugared ###

Void : *

Maybe : (_ : *) -> *

Just : (a : *) -> (x : a) -> (Maybe a)

Nothing : (a : *) -> (Maybe a)

Bool : *

True : Bool

False : Bool

retTy : (x : (Maybe Bool)) -> *
retTy = \x : (Maybe Bool). 
  case x of
    Just (a : *) (t : a) -> Bool
    Nothing (a : *) -> *

f : (x : (Maybe Bool)) -> (retTy x)
f = \x : (Maybe Bool). 
  case x of
    Just (a : *) (b : a) -> b
    Nothing (a : *) -> Bool

main  -R-  Bool
main = (f (Just Bool False))

### Metaified ###

Void :?1: *

Maybe :?2: (_ :?3: *) -> *

Just :?4: (a :?5: *) -> (x :?6: a) -> (Maybe -?8- a)

Nothing :?9: (a :?10: *) -> (Maybe -?12- a)

Bool :?13: *

True :?14: Bool

False :?15: Bool

retTy :?16: (x :?17: (Maybe -?19- Bool)) -> *
retTy = \x :?20: (Maybe -?22- Bool). 
  case x of
    Just (a :?23: *) (t :?24: a) -> Bool
    Nothing (a :?25: *) -> *

f :?26: (x :?27: (Maybe -?29- Bool)) -> (retTy -?31- x)
f = \x :?32: (Maybe -?34- Bool). 
  case x of
    Just (a :?35: *) (b :?36: a) -> b
    Nothing (a :?37: *) -> Bool

main :!R: Bool
main = (f -?39- (Just -?43- Bool -?41- False))

### Inferred definitions ###

Bool :?13: *
False :?15: Bool
Just :?4: (a :?5: *) -> (x :?6: a) -> (Maybe -?8- a)
Maybe :?2: (_ :?3: *) -> *
Nothing :?9: (a :?10: *) -> (Maybe -?12- a)
True :?14: Bool
Void :?1: *
f :?26: (x :?27: (Maybe -?29- Bool)) -> (retTy -?31- x)
  [] -> [?6,?13,?27,?32,?36,!R]
  [?7] -> [?28]
  [?8] -> [?29]
  [?11] -> [?28]
  [?12] -> [?29]
  [?28] -> [?7,?11,?33]
  [?29] -> [?8,?12,?34]
  [?33] -> [?28]
  [?34] -> [?29]
  [?35] -> [?5]
  [?37] -> [?10]

main :!R: Bool
  [] -> [?4,?6_1,?13_1,?26,?27,?27_1,?32_1,?36_1,?38,?39,!R]
  [?5] -> [?13,?42,?43]
  [?6] -> [?15,?40,?41]
  [?7] -> [?28_1]
  [?7_1] -> [?28_1]
  [?8] -> [?29_1]
  [?8_1] -> [?29_1]
  [?11_1] -> [?28_1]
  [?12_1] -> [?29_1]
  [?28_1] -> [?7,?7_1,?11_1,?28,?33_1]
  [?29_1] -> [?8,?8_1,?12_1,?29,?34_1]
  [?30_1] -> [?30]
  [?31_1] -> [?31]
  [?33_1] -> [?28_1]
  [?34_1] -> [?29_1]
  [?35_1] -> [?5_1]
  [?37_1] -> [?10_1]

retTy :?16: (x :?17: (Maybe -?19- Bool)) -> *
  [] -> [?13,?17,?20,!R]
  [?18] -> [?21]
  [?19] -> [?22]
  [?21] -> [?18]
  [?22] -> [?19]
  [?23] -> [?5]
  [?24] -> [?6]
  [?25] -> [?10]


### Constraints ###

[] -> [?4,?6,?6_1,?13,?13_1,?17,?20,?26,?27,?27_1,?32,?32_1,?36,?36_1,?38,?39,!R]
[?5] -> [?13,?42,?43]
[?6] -> [?15,?40,?41]
[?7] -> [?28,?28_1]
[?7_1] -> [?28_1]
[?8] -> [?29,?29_1]
[?8_1] -> [?29_1]
[?11] -> [?28]
[?11_1] -> [?28_1]
[?12] -> [?29]
[?12_1] -> [?29_1]
[?18] -> [?21]
[?19] -> [?22]
[?21] -> [?18]
[?22] -> [?19]
[?23] -> [?5]
[?24] -> [?6]
[?25] -> [?10]
[?28] -> [?7,?11,?33]
[?28_1] -> [?7,?7_1,?11_1,?28,?33_1]
[?29] -> [?8,?12,?34]
[?29_1] -> [?8,?8_1,?12_1,?29,?34_1]
[?30_1] -> [?30]
[?31_1] -> [?31]
[?33] -> [?28]
[?33_1] -> [?28_1]
[?34] -> [?29]
[?34_1] -> [?29_1]
[?35] -> [?5]
[?35_1] -> [?5_1]
[?37] -> [?10]
[?37_1] -> [?10_1]

### Solution ###

[?4,?6,?6_1,?13,?13_1,?15,?17,?20,?26,?27,?27_1,?32,?32_1,?36,?36_1,?38,?39,?40,?41,!R]

### Annotated ###

Void :I: *

Maybe :I: (_ :I: *) -> *

Just :R: (a :I: *) -> (x :R: a) -> (Maybe -I- a)

Nothing :I: (a :I: *) -> (Maybe -I- a)

Bool :R: *

True :I: Bool

False :R: Bool

retTy :I: (x :R: (Maybe -I- Bool)) -> *
retTy = \x :R: (Maybe -I- Bool). 
  case x of
    Just (a :I: *) (t :I: a) -> Bool
    Nothing (a :I: *) -> *

f :R: (x :R: (Maybe -I- Bool)) -> (retTy -I- x)
f = \x :R: (Maybe -I- Bool). 
  case x of
    Just (a :I: *) (b :R: a) -> b
    Nothing (a :I: *) -> Bool

main :R: Bool
main = (f -R- (Just -I- Bool -R- False))

### Pruned ###

f = \x. 
  case x of
    Just b -> b
    Nothing -> Bool

main = (f (Just False))

