-- vim: ft=agda

### Desugared ###

Void : *

Maybe : (_ : *) -> *

Just : (a : *) -> (x : a) -> (Maybe a)

Nothing : (a : *) -> (Maybe a)

Bool : *

True : Bool

False : Bool

retTy : (x : (Maybe Bool)) -> *
retTy = \x : (Maybe Bool). 
  case x of
    Just (a : *) (t : a) -> Bool
    Nothing (a : *) -> *

f : (x : (Maybe Bool)) -> (retTy x)
f = \x : (Maybe Bool). 
  case x of
    Just (a : *) (b : a) -> b
    Nothing (a : *) -> Bool

main  -R-  Bool
main = (f (Just Bool False))

### Metaified ###

Void :?1: *

Maybe :?2: (_ :?3: *) -> *

Just :?4: (a :?5: *) -> (x :?6: a) -> (Maybe -?7- a)

Nothing :?8: (a :?9: *) -> (Maybe -?10- a)

Bool :?11: *

True :?12: Bool

False :?13: Bool

retTy :?14: (x :?15: (Maybe -?16- Bool)) -> *
retTy = \x :?17: (Maybe -?18- Bool). 
  case x of
    Just (a :?19: *) (t :?20: a) -> Bool
    Nothing (a :?21: *) -> *

f :?22: (x :?23: (Maybe -?24- Bool)) -> (retTy -?25- x)
f = \x :?26: (Maybe -?27- Bool). 
  case x of
    Just (a :?28: *) (b :?29: a) -> b
    Nothing (a :?30: *) -> Bool

main :!R: Bool
main = (f -?31- (Just -?33- Bool -?32- False))

### Inferred definitions ###

Bool :?11: *
False :?13: Bool
Just :?4: (a :?5: *) -> (x :?6: a) -> (Maybe -?7- a)
Maybe :?2: (_ :?3: *) -> *
Nothing :?8: (a :?9: *) -> (Maybe -?10- a)
True :?12: Bool
Void :?1: *
f :?22: (x :?23: (Maybe -?24- Bool)) -> (retTy -?25- x)
  [] -> [(?6,R),(?11,R),(?23,R),(?26,R),(?29,R),(!N,N),(!R,R)]
  [?7] -> [(?24,R)]
  [?10] -> [(?24,R)]
  [?24] -> [(?7,R),(?10,R),(?27,R)]
  [?27] -> [(?24,R)]
  [?28] -> [(?5,R)]
  [?30] -> [(?9,R)]

main :!R: Bool
  [] -> [(?4,R),(?6_1,R),(?11_1,R),(?22,R),(?23,R),(?23_1,R),(?26_1,R),(?29_1,R),(?31,R),(!N,N),(!R,R)]
  [?5] -> [(?11,R),(?33,R)]
  [?6] -> [(?13,R),(?32,R)]
  [?7] -> [(?24_1,R)]
  [?7_1] -> [(?24_1,R)]
  [?10_1] -> [(?24_1,R)]
  [?24] -> [(?24_1,N)]
  [?24_1] -> [(?7,R),(?7_1,R),(?10_1,R),(?24,R),(?27_1,R)]
  [?25] -> [(?25_1,N)]
  [?25_1] -> [(?25,R)]
  [?27_1] -> [(?24_1,R)]
  [?28_1] -> [(?5_1,R)]
  [?30_1] -> [(?9_1,R)]

retTy :?14: (x :?15: (Maybe -?16- Bool)) -> *
  [] -> [(?11,R),(?15,R),(?17,R),(!N,N),(!R,R)]
  [?16] -> [(?18,R)]
  [?18] -> [(?16,R)]
  [?19] -> [(?5,R)]
  [?20] -> [(?6,R)]
  [?21] -> [(?9,R)]


### Constraints ###

[] -> [(?4,R),(?6,R),(?6_1,R),(?11,R),(?11_1,R),(?15,R),(?17,R),(?22,R),(?23,R),(?23_1,R),(?26,R),(?26_1,R),(?29,R),(?29_1,R),(?31,R),(!N,N),(!R,R)]
[?5] -> [(?11,R),(?33,R)]
[?6] -> [(?13,R),(?32,R)]
[?7] -> [(?24,R),(?24_1,R)]
[?7_1] -> [(?24_1,R)]
[?10] -> [(?24,R)]
[?10_1] -> [(?24_1,R)]
[?16] -> [(?18,R)]
[?18] -> [(?16,R)]
[?19] -> [(?5,R)]
[?20] -> [(?6,R)]
[?21] -> [(?9,R)]
[?24] -> [(?7,R),(?10,R),(?24_1,N),(?27,R)]
[?24_1] -> [(?7,R),(?7_1,R),(?10_1,R),(?24,R),(?27_1,R)]
[?25] -> [(?25_1,N)]
[?25_1] -> [(?25,R)]
[?27] -> [(?24,R)]
[?27_1] -> [(?24_1,R)]
[?28] -> [(?5,R)]
[?28_1] -> [(?5_1,R)]
[?30] -> [(?9,R)]
[?30_1] -> [(?9_1,R)]

### Solution ###

[(?4,R),(?6,R),(?6_1,R),(?11,R),(?11_1,R),(?13,R),(?15,R),(?17,R),(?22,R),(?23,R),(?23_1,R),(?26,R),(?26_1,R),(?29,R),(?29_1,R),(?31,R),(?32,R),(!N,N),(!R,R)]

### Annotated ###

Void :E: *

Maybe :E: (_ :E: *) -> *

Just :R: (a :E: *) -> (x :R: a) -> (Maybe -E- a)

Nothing :E: (a :E: *) -> (Maybe -E- a)

Bool :R: *

True :E: Bool

False :R: Bool

retTy :E: (x :R: (Maybe -E- Bool)) -> *
retTy = \x :R: (Maybe -E- Bool). 
  case x of
    Just (a :E: *) (t :E: a) -> Bool
    Nothing (a :E: *) -> *

f :R: (x :R: (Maybe -E- Bool)) -> (retTy -E- x)
f = \x :R: (Maybe -E- Bool). 
  case x of
    Just (a :E: *) (b :R: a) -> b
    Nothing (a :E: *) -> Bool

main :R: Bool
main = (f -R- (Just -E- Bool -R- False))

### Pruned ###

f = \x. 
  case x of
    Just b -> b
    Nothing -> Bool

main = (f (Just False))

