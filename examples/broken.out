-- vim: ft=idris

### Desugared ###

  let
    postulate Bool : Type
    postulate T : Bool
    postulate F : Bool
    broken : (_x0 : Bool) -> Bool 
      n : Bool
        broken n = 
          let id : (_x1 : Bool) -> Bool 
            id n = n
          in id n
    main : Bool = broken T
  in main

### Evarified ###

  let
    postulate Bool :1: Type
    postulate T :2: Bool
    postulate F :3: Bool
    broken :4: (_x0 :5: Bool) -> Bool 
      n :6: Bool
        broken -7- n = 
          let id :8: (_x1 :9: Bool) -> Bool 
            id -10- n = n
          in id -11- n
    main :12: Bool = broken -13- T
  in main

### Constraints ###

[] -> [2,4,5,6,7,8,9,10,11,13,R]
[R] -> [12]

### Solution ###

[2,4,5,6,7,8,9,10,11,12,13,R]

### Annotated ###

  let
    postulate Bool :E: Type
    postulate T :R: Bool
    postulate F :E: Bool
    broken :R: (_x0 :R: Bool) -> Bool 
      n :R: Bool
        broken -R- n = 
          let id :R: (_x1 :R: Bool) -> Bool 
            id -R- n = n
          in id -R- n
    main :R: Bool = broken -R- T
  in main

### Specialised ###

  let
    postulate Bool :E: Type
    postulate T :R: Bool
    postulate F :E: Bool
    broken :R: (_x0 :R: Bool) -> Bool 
      n :R: Bool
        broken -R- n = 
          let id :R: (_x1 :R: Bool) -> Bool 
            id -R- n = n
          in id -R- n
    main :R: Bool = broken -R- T
  in main

### Final annotation ###

  let
    postulate Bool :E: Type
    postulate T :R: Bool
    postulate F :E: Bool
    broken :R: (_x0 :R: Bool) -> Bool 
      n :R: Bool
        broken -R- n = 
          let id :R: (_x1 :R: Bool) -> Bool 
            id -R- n = n
          in id -R- n
    main :R: Bool = broken -R- T
  in main

### Verification ###

Verification successful.

### Pruned ###

  let
    postulate T : Bool
    broken 
      broken n = 
        let id 
          id n = n
        in id n
    main = broken T
  in main

### Normal forms ###

unerased:
ttstar: trying to substitute for patvar: n
CallStack (from HasCallStack):
  error, called at ./TTUtils.hs:45:23 in main:TTUtils
