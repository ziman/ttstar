<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
<title>Erasure explorer</title>
</head>

<style>

body {
    font-family: sans-serif;
}

.rel {
    color: #480;
}

.op {
    color: #800;
}

.def {
    margin-bottom: 10px;
}

.lambda > .head {
    margin-right: 10px;
}

a {
    text-decoration: none;
}

a:hover {
    background-color: yellow;
}

.ap {
    color: #ccc;
    font-size: 0.75em;
}

.nrty-I {
    background-color: #f0f0f0;
}

.nrty-R {
}

.paren {
    color: #aaa;
}

.marked {
    color: yellow;
    background-color: red;
}

.shown {
    display: block !important;
}

.constr {
    display: none;
}

</style>

<script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
<script>

function cleanup() {
    $('.marked').removeClass('marked');
    $('.shown').removeClass('shown');
}

function init() {
    $('.mvar').each(function() {
        var elm = $(this);
        var mvar = parseInt(elm.attr('class').match(/mvar-(\d+)/)[1]);
        elm.hover(function() {
            for (var i = 0; i < constrs.length; ++i) {
                if ($.inArray(mvar, constrs[i][0]) != -1) {
                    $('.constr-' + i).addClass('shown');
                    var gs = constrs[i][1];
                    for (var j = 0; j < gs.length; ++j) {
                        $('.def .mvar-' + gs[j]).addClass('marked');
                    }
                }
            }
        }, cleanup);
    });
}

$(init);
</script>

<body>

<h1>Erasure explorer</h1>
<p>Put your mouse cursor over any variable to highlight which variables may cause its usage.
Erased things are <span class="nrty-I">grayed out</span>.</p>
<h2>Metaified program</h2>
<div class="def axiom">
<div class="type">
<span class="nrty nrty-(1,0) nrty-I"><span class="name name-Void">Void</span><span class="rel mvar mvar-(1,0) rel-I"> :<sub>1</sub> </span><span class="star">*</span>
</span>
</div>

</div>
<div class="def axiom">
<div class="type">
<span class="nrty nrty-(2,0) nrty-I"><span class="name name-Maybe">Maybe</span><span class="rel mvar mvar-(2,0) rel-I"> :<sub>2</sub> </span><span class="pi"><span class="paren">(</span><span class="nrty nrty-(3,0) nrty-I"><span class="name name-_">_</span><span class="rel mvar mvar-(3,0) rel-I"> :<sub>3</sub> </span><span class="star">*</span>
</span><span class="paren">)</span><span class="op"> &#8594; </span><span class="star">*</span></span>
</span>
</div>

</div>
<div class="def axiom">
<div class="type">
<span class="nrty nrty-(4,0) nrty-I"><span class="name name-Just">Just</span><span class="rel mvar mvar-(4,0) rel-I"> :<sub>4</sub> </span><span class="pi"><span class="paren">(</span><span class="nrty nrty-(5,0) nrty-I"><span class="name name-a">a</span><span class="rel mvar mvar-(5,0) rel-I"> :<sub>5</sub> </span><span class="star">*</span>
</span><span class="paren">)</span><span class="op"> &#8594; </span><span class="pi"><span class="paren">(</span><span class="nrty nrty-(6,0) nrty-R"><span class="name name-x">x</span><span class="rel mvar mvar-(6,0) rel-R"> :<sub>6</sub> </span><span class="var"><span class="name name-a">a</span></span>
</span><span class="paren">)</span><span class="op"> &#8594; </span><span class="app"><span class="paren">(</span><span class="var"><span class="name name-Maybe">Maybe</span></span><span class="ap mvar mvar-(7,0)">(7,0)</span><span class="var"><span class="name name-a">a</span></span><span class="paren">)</span></span></span></span>
</span>
</div>

</div>
<div class="def axiom">
<div class="type">
<span class="nrty nrty-(8,0) nrty-I"><span class="name name-Nothing">Nothing</span><span class="rel mvar mvar-(8,0) rel-I"> :<sub>8</sub> </span><span class="pi"><span class="paren">(</span><span class="nrty nrty-(9,0) nrty-I"><span class="name name-a">a</span><span class="rel mvar mvar-(9,0) rel-I"> :<sub>9</sub> </span><span class="star">*</span>
</span><span class="paren">)</span><span class="op"> &#8594; </span><span class="app"><span class="paren">(</span><span class="var"><span class="name name-Maybe">Maybe</span></span><span class="ap mvar mvar-(10,0)">(10,0)</span><span class="