-- vim: ft=agda

### Desugared ###

postulate Bool : Type

postulate T : Bool

postulate F : Bool

postulate Id : (a : Type) -> (x : a) -> (y : a) -> Type

postulate Refl : (a : Type) -> (x : a) -> Id a x x

not : (x : Bool) -> Bool = \(x : Bool).
  case x of
    T
      => F
    F
      => T

notnot : (x : Bool) -> Id Bool x (not (not x)) = \(x : Bool).
  case x of
    T
      => Refl Bool T
    F
      => Refl Bool F

main :R: Id Bool F (not (not F)) = notnot F

### Metaified ###

postulate Bool :1: Type

postulate T :2: Bool

postulate F :3: Bool

postulate Id :4: (a :5: Type) -> (x :6: a) -> (y :7: a) -> Type

postulate Refl :8: (a :9: Type) -> (x :10: a) -> Id -13- a -12- x -11- x

not :14: (x :15: Bool) -> Bool = \(x :16: Bool).
  case -17- x of
    T
      => F
    F
      => T

notnot :18: (x :19: Bool) -> Id -22- Bool -21- x -20- (not -23- (not -24- x)) = \(x :25: Bool).
  case -26- x of
    T
      => Refl -28- Bool -27- T
    F
      => Refl -30- Bool -29- F

main :R: Id -33- Bool -32- F -31- (not -34- (not -35- F)) = notnot -36- F

### Inferred definitions ###

postulate Bool :1: Type {- constraints apply -}
  [] -> [1,R]

postulate F :3: Bool {- constraints apply -}
  [] -> [1,3,R]

postulate Id :4: (a :5: Type) -> (x :6: a) -> (y :7: a) -> Type {- constraints apply -}
  [] -> [4,R]

postulate Refl :8: (a :9: Type) -> (x :10: a) -> Id -13- a -12- x -11- x {- constraints apply -}
  [] -> [4,8,R]
  [5] -> [9,13]
  [6] -> [9,10,12]
  [7] -> [9,10,11]
  [11] -> [7]
  [12] -> [6]
  [13] -> [5]

postulate T :2: Bool {- constraints apply -}
  [] -> [1,2,R]

postulate Type :R: Type

main :R: Id -33- Bool -32- F -31- (not -34- (not -35- F)) = notnot -36- F {- constraints apply -}
  [] -> [1,3,4,8,18,19,25,26,36,R]
  [5] -> [9,13,22,33]
  [6] -> [9,10,12,21,32]
  [7] -> [2,9,10,11,14,15,16,17,20,31]
  [7,15] -> [2,14,15,16,17,23,24,34,35]
  [7,15,24] -> [15]
  [7,15,35] -> [15]
  [7,23] -> [15]
  [7,34] -> [15]
  [9] -> [28,30]
  [10] -> [2,27,29]
  [11] -> [7,20]
  [12] -> [6,21]
  [13] -> [5,22]
  [20] -> [7,11,31]
  [21] -> [6,12,32]
  [22] -> [5,13,33]
  [27] -> [10]
  [28] -> [9]
  [29] -> [10]
  [30] -> [9]
  [31] -> [7,20]
  [32] -> [6,21]
  [33] -> [5,22]

not :14: (x :15: Bool) -> Bool = \(x :16: Bool).
  case -17- x of
    T
      => F
    F
      => T {- constraints apply -}
  [] -> [1,2,3,14,15,16,17,R]

notnot :18: (x :19: Bool) -> Id -22- Bool -21- x -20- (not -23- (not -24- x)) = \(x :25: Bool).
  case -26- x of
    T
      => Refl -28- Bool -27- T
    F
      => Refl -30- Bool -29- F {- constraints apply -}
  [] -> [4,8,18,19,25,26,R]
  [5] -> [1,9,13,22]
  [6] -> [1,9,10,12,21]
  [7] -> [1,2,3,9,10,11,14,15,16,17,20]
  [7,15] -> [1,2,3,14,15,16,17,23,24]
  [7,15,24] -> [15]
  [7,23] -> [15]
  [9] -> [1,28,30]
  [10] -> [1,2,3,27,29]
  [11] -> [7,20]
  [12] -> [6,21]
  [13] -> [5,22]
  [20] -> [7,11]
  [21] -> [6,12]
  [22] -> [5,13]
  [27] -> [10]
  [28] -> [9]
  [29] -> [10]
  [30] -> [9]


### Constraints ###

[] -> [1,3,4,8,18,19,25,26,36,R]
[5] -> [9,13,22,33]
[6] -> [9,10,12,21,32]
[7] -> [2,9,10,11,14,15,16,17,20,31]
[7,15] -> [2,14,15,16,17,23,24,34,35]
[7,15,24] -> [15]
[7,15,35] -> [15]
[7,23] -> [15]
[7,34] -> [15]
[9] -> [28,30]
[10] -> [2,27,29]
[11] -> [7,20]
[12] -> [6,21]
[13] -> [5,22]
[20] -> [7,11,31]
[21] -> [6,12,32]
[22] -> [5,13,33]
[27] -> [10]
[28] -> [9]
[29] -> [10]
[30] -> [9]
[31] -> [7,20]
[32] -> [6,21]
[33] -> [5,22]

### Solution ###

[1,3,4,8,18,19,25,26,36,R]

### Annotated ###

postulate Bool :R: Type

postulate T :E: Bool

postulate F :R: Bool

postulate Id :R: (a :E: Type) -> (x :E: a) -> (y :E: a) -> Type

postulate Refl :R: (a :E: Type) -> (x :E: a) -> Id -E- a -E- x -E- x

not :E: (x :E: Bool) -> Bool = \(x :E: Bool).
  case -E- x of
    T
      => F
    F
      => T

notnot :R: (x :R: Bool) -> Id -E- Bool -E- x -E- (not -E- (not -E- x)) = \(x :R: Bool).
  case -R- x of
    T
      => Refl -E- Bool -E- T
    F
      => Refl -E- Bool -E- F

main :R: Id -E- Bool -E- F -E- (not -E- (not -E- F)) = notnot -R- F

### Specialised ###

postulate Bool :R: Type

postulate T :E: Bool

postulate F :R: Bool

postulate Id :R: (a :E: Type) -> (x :E: a) -> (y :E: a) -> Type

postulate Refl :R: (a :E: Type) -> (x :E: a) -> Id -E- a -E- x -E- x

not :E: (x :E: Bool) -> Bool = \(x :E: Bool).
  case -E- x of
    T
      => F
    F
      => T

notnot :R: (x :R: Bool) -> Id -E- Bool -E- x -E- (not -E- (not -E- x)) = \(x :R: Bool).
  case -R- x of
    T
      => Refl -E- Bool -E- T
    F
      => Refl -E- Bool -E- F

main :R: Id -E- Bool -E- F -E- (not -E- (not -E- F)) = notnot -R- F

### Final annotation ###

postulate Bool :R: Type

postulate T :E: Bool

postulate F :R: Bool

postulate Id :R: (a :E: Type) -> (x :E: a) -> (y :E: a) -> Type

postulate Refl :R: (a :E: Type) -> (x :E: a) -> Id -E- a -E- x -E- x

not :E: (x :E: Bool) -> Bool = \(x :E: Bool).
  case -E- x of
    T
      => F
    F
      => T

notnot :R: (x :R: Bool) -> Id -E- Bool -E- x -E- (not -E- (not -E- x)) = \(x :R: Bool).
  case -R- x of
    T
      => Refl -E- Bool -E- T
    F
      => Refl -E- Bool -E- F

main :R: Id -E- Bool -E- F -E- (not -E- (not -E- F)) = notnot -R- F

### Verification ###

Verification successful.

### Pruned ###

postulate Bool

postulate F

postulate Id

postulate Refl

notnot = \x.
  case x of
    T
      => Refl
    F
      => Refl

main = notnot F

### Normal forms ###

unerased:
  Refl Bool F
erased:
  Refl
