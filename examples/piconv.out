-- vim: ft=agda

### Desugared ###

postulate T : Type

postulate A : T

postulate B : T

const_A : (_ : T) -> T = (\_ : T. A)

apply : (f : (x : T) -> T) -> (x : T) -> T = (\f : (_ : T) -> T. (\x : T. f x))

main :ᴿ T = apply const_A B

### Metaified ###

postulate T :¹ Type

postulate A :² T

postulate B :³ T

const_A :⁴ (_ :⁵ T) -> T = (\_ :⁶ T. A)

apply :⁷ (f :⁸ (x :⁹ T) -> T) -> (x :¹⁰ T) -> T = (\f :¹¹ (_ :¹² T) -> T. (\x :¹³ T. f ¹⁴ x))

main :ᴿ T = apply ¹⁶ const_A ¹⁵ B

### Inferred definitions ###

postulate A :² T

postulate B :³ T

postulate T :¹ Type

postulate Type :ᴿ Type

apply :⁷ (f :⁸ (x :⁹ T) -> T) -> (x :¹⁰ T) -> T = (\f :¹¹ (_ :¹² T) -> T. (\x :¹³ T. f ¹⁴ x))
  [7] -> [11]
  [7,8] -> [11]
  [7,9] -> [12]
  [7,10] -> [13]
  [7,11] -> [8]
  [7,12] -> [9,13,14]
  [7,13] -> [10]
  [7,14] -> [12]

const_A :⁴ (_ :⁵ T) -> T = (\_ :⁶ T. A)
  [4] -> [2]
  [4,5] -> [6]
  [4,6] -> [5]

main :ᴿ T = apply ¹⁶ const_A ¹⁵ B
  [] -> [7,R]
  [5] -> [9]
  [8] -> [4,16]
  [9] -> [5]
  [10] -> [3,15]
  [15] -> [10]
  [16] -> [8]


### Constraints ###

[] -> [7,R]
[4] -> [2]
[4,5] -> [6]
[4,6] -> [5]
[5] -> [9]
[7] -> [11]
[7,8] -> [11]
[7,9] -> [12]
[7,10] -> [13]
[7,11] -> [8]
[7,12] -> [9,13,14]
[7,13] -> [10]
[7,14] -> [12]
[8] -> [4,16]
[9] -> [5]
[10] -> [3,15]
[15] -> [10]
[16] -> [8]

### Solution ###

[2,4,7,8,11,16,R]

### Annotated ###

postulate T :ᴱ Type

postulate A :ᴿ T

postulate B :ᴱ T

const_A :ᴿ (_ :ᴱ T) -> T = (\_ :ᴱ T. A)

apply :ᴿ (f :ᴿ (x :ᴱ T) -> T) -> (x :ᴱ T) -> T = (\f :ᴿ (_ :ᴱ T) -> T. (\x :ᴱ T. f ᴱ x))

main :ᴿ T = apply ᴿ const_A ᴱ B

### Specialised ###

postulate T :ᴱ Type

postulate A :ᴿ T

postulate B :ᴱ T

const_A :ᴿ (_ :ᴱ T) -> T = (\_ :ᴱ T. A)

apply :ᴿ (f :ᴿ (x :ᴱ T) -> T) -> (x :ᴱ T) -> T = (\f :ᴿ (_ :ᴱ T) -> T. (\x :ᴱ T. f ᴱ x))

main :ᴿ T = apply ᴿ const_A ᴱ B

### Final annotation ###

postulate T :ᴱ Type

postulate A :ᴿ T

postulate B :ᴱ T

const_A :ᴿ (_ :ᴱ T) -> T = (\_ :ᴱ T. A)

apply :ᴿ (f :ᴿ (x :ᴱ T) -> T) -> (x :ᴱ T) -> T = (\f :ᴿ (_ :ᴱ T) -> T. (\x :ᴱ T. f ᴱ x))

main :ᴿ T = apply ᴿ const_A ᴱ B

### Verification ###

Verification successful.

### Pruned ###

postulate A

const_A = A

apply = (\f. f)

main = apply const_A

### Normal forms ###

unerased:
  A
erased:
  A
