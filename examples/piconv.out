-- vim: ft=agda

### Desugared ###

postulate T : Type

postulate A : T

postulate B : T

const_A : (_ : T) -> T = (\_ : T. A)

apply : (f : (x : T) -> T) -> (x : T) -> T = (\f : (_ : T) -> T. (\x : T. f x))

main :R: T = apply const_A B

### Metaified ###

postulate T :1: Type

postulate A :2: T

postulate B :3: T

const_A :4: (_ :5: T) -> T = (\_ :6: T. A)

apply :7: (f :8: (x :9: T) -> T) -> (x :10: T) -> T = (\f :11: (_ :12: T) -> T. (\x :13: T. f -14- x))

main :R: T = apply -16- const_A -15- B

### Inferred definitions ###

postulate A :2: T {- constraints apply -}
  [1,2] -> [1]
  [2] -> [2]

postulate B :3: T {- constraints apply -}
  [1,3] -> [1]
  [3] -> [3]

postulate T :1: Type {- constraints apply -}
  [1] -> [1]

postulate Type :R: Type

apply :7: (f :8: (x :9: T) -> T) -> (x :10: T) -> T = (\f :11: (_ :12: T) -> T. (\x :13: T. f -14- x)) {- constraints apply -}
  [1,7] -> [1]
  [1,7,11] -> [1]
  [1,7,12,13] -> [1]
  [7] -> [7]
  [7,8] -> [11]
  [7,9] -> [12]
  [7,10] -> [13]
  [7,11] -> [8,11]
  [7,12] -> [9,14]
  [7,12,13] -> [13]
  [7,13] -> [10]
  [7,14] -> [12]

const_A :4: (_ :5: T) -> T = (\_ :6: T. A) {- constraints apply -}
  [1,2,4] -> [1]
  [1,4] -> [1]
  [2,4] -> [2]
  [4] -> [4]
  [4,5] -> [6]
  [4,6] -> [5]

main :R: T = apply -16- const_A -15- B {- constraints apply -}
  [1] -> [1]
  [1,2,4,8] -> [1]
  [1,3,10] -> [1]
  [1,4,8] -> [1]
  [1,7] -> [1]
  [1,7,11] -> [1]
  [1,7,12,13] -> [1]
  [2,4,8] -> [2]
  [3,10] -> [3]
  [4,5,8] -> [6]
  [4,6,8] -> [5]
  [4,8] -> [4]
  [5] -> [9]
  [7] -> [7]
  [7,8] -> [11]
  [7,9] -> [12]
  [7,10] -> [13]
  [7,11] -> [8,11]
  [7,12] -> [9,14]
  [7,12,13] -> [13]
  [7,13] -> [10]
  [7,14] -> [12]
  [8] -> [16]
  [9] -> [5]
  [10] -> [15]
  [15] -> [10]
  [16] -> [8]


### Constraints ###

[1] -> [1]
[1,2,4,8] -> [1]
[1,3,10] -> [1]
[1,4,8] -> [1]
[1,7] -> [1]
[1,7,11] -> [1]
[1,7,12,13] -> [1]
[2,4,8] -> [2]
[3,10] -> [3]
[4,5,8] -> [6]
[4,6,8] -> [5]
[4,8] -> [4]
[5] -> [9]
[7] -> [7]
[7,8] -> [11]
[7,9] -> [12]
[7,10] -> [13]
[7,11] -> [8,11]
[7,12] -> [9,14]
[7,12,13] -> [13]
[7,13] -> [10]
[7,14] -> [12]
[8] -> [16]
[9] -> [5]
[10] -> [15]
[15] -> [10]
[16] -> [8]

### Solution ###

[R]

### Annotated ###

postulate T :E: Type

postulate A :E: T

postulate B :E: T

const_A :E: (_ :E: T) -> T = (\_ :E: T. A)

apply :E: (f :E: (x :E: T) -> T) -> (x :E: T) -> T = (\f :E: (_ :E: T) -> T. (\x :E: T. f -E- x))

main :R: T = apply -E- const_A -E- B

### Specialised ###

postulate T :E: Type

postulate A :E: T

postulate B :E: T

const_A :E: (_ :E: T) -> T = (\_ :E: T. A)

apply :E: (f :E: (x :E: T) -> T) -> (x :E: T) -> T = (\f :E: (_ :E: T) -> T. (\x :E: T. f -E- x))

main :R: T = apply -E- const_A -E- B

### Final annotation ###

postulate T :E: Type

postulate A :E: T

postulate B :E: T

const_A :E: (_ :E: T) -> T = (\_ :E: T. A)

apply :E: (f :E: (x :E: T) -> T) -> (x :E: T) -> T = (\f :E: (_ :E: T) -> T. (\x :E: T. f -E- x))

main :R: T = apply -E- const_A -E- B

### Verification ###

Verification successful.

### Pruned ###

main = apply

### Normal forms ###

unerased:
  A
erased:
