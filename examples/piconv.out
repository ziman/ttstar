-- vim: ft=agda

### Desugared ###

T : *

A : T

B : T

const_A : (x :: T) -> T
const_A = \_ :: T. A

apply : (f :: (x  -R-  -E-  T) -> T) -> (x  -R-  -E-  T) -> T
apply = \f :: (_ :: T) -> T. \x :: T. (f  x)

main  -R-  T
main = (apply  const_A  B)

### Metaified ###

T :?1: *

A :?2: T

B :?3: T

const_A :?4: (x :?6::?5: T) -> T
const_A = \_ :?8::?7: T. A

apply :?9: (f :?11::?10: (x :!R::!E: T) -> T) -> (x :!R::!E: T) -> T
apply = \f :?15::?12: (_ :?14::?13: T) -> T. \x :?17::?16: T. (f -?18-  -?19- x)

main :!R: T
main = (apply -?22-  -?23- const_A -?20-  -?21- B)

### Inferred definitions ###

A :?2: T
B :?3: T
T :?1: *
apply :?9: (f :?11::?10: (x :!R::!E: T) -> T) -> (x :!R::!E: T) -> T
  [] -> [?10,?12,?14,?17,?18,!R]
  [?11] -> [?15]
  [?13] -> [?16,?19,!E]
  [?15] -> [?11]
  [?16] -> [!E]
  [?19] -> [?13]
  [!E] -> [?13,?16]

const_A :?4: (x :?6::?5: T) -> T
  [] -> [?2,!R]
  [?5] -> [?7]
  [?6] -> [?8]
  [?7] -> [?5]
  [?8] -> [?6]

main :!R: T
  [] -> [?2_2,?4,?6,?6_2,?8_2,?9,?10_1,?11,?12_1,?14_1,?17_1,?18_1,?20,?22,?23,!R]
  [?5_2] -> [?7_2,!E]
  [?7_2] -> [?5_2]
  [?11_1] -> [?15_1]
  [?13_1] -> [?16_1,?19_1,!E]
  [?15_1] -> [?11_1]
  [?16_1] -> [!E]
  [?19_1] -> [?13_1]
  [?21] -> [!E]
  [!E] -> [?3,?5_2,?13_1,?16_1,?21]


### Constraints ###

[] -> [?2,?2_2,?4,?6,?6_2,?8_2,?9,?10,?10_1,?11,?12,?12_1,?14,?14_1,?17,?17_1,?18,?18_1,?20,?22,?23,!R]
[?5] -> [?7]
[?5_2] -> [?7_2,!E]
[?6] -> [?8]
[?7] -> [?5]
[?7_2] -> [?5_2]
[?8] -> [?6]
[?11] -> [?15]
[?11_1] -> [?15_1]
[?13] -> [?16,?19,!E]
[?13_1] -> [?16_1,?19_1,!E]
[?15] -> [?11]
[?15_1] -> [?11_1]
[?16] -> [!E]
[?16_1] -> [!E]
[?19] -> [?13]
[?19_1] -> [?13_1]
[?21] -> [!E]
[!E] -> [?3,?5_2,?13,?13_1,?16,?16_1,?21]

### Solution ###

[?2,?2_2,?4,?6,?6_2,?8,?8_2,?9,?10,?10_1,?11,?12,?12_1,?14,?14_1,?15,?17,?17_1,?18,?18_1,?20,?22,?23,!R]

### Annotated ###

T :E: *

A :R: T

B :E: T

const_A :R: (x :R::E: T) -> T
const_A = \_ :R::E: T. A

apply :R: (f :R::R: (x :R::E: T) -> T) -> (x :R::E: T) -> T
apply = \f :R::R: (_ :R::E: T) -> T. \x :R::E: T. (f -R-  -E- x)

main :R: T
main = (apply -R-  -R- const_A -R-  -E- B)

### Pruned ###

const_A = \_. A

apply = \f. \x. (f  ____)

main = (apply  const_A  ____)

### Normal forms ###

unerased:
  A
erased:
  A
