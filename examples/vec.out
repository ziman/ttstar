-- vim: ft=agda

### Desugared ###

postulate N : *

postulate Z : N

postulate S : (_ : N) -> N

postulate Vec : (_ : N) -> (_ : *) -> *

postulate Nil : (a : *) -> Vec Z a

postulate Cons : (a : *) -> (n : N) -> (x : a) -> (xs : Vec n a) -> Vec (S n) a

plus : (_ : N) -> (_ : N) -> N
  pat (n : N).
    plus Z n  =  n
  pat (m : N) (n : N).
    plus (S m) n  =  S (plus m n)

append : (a : *) -> (m : N) -> (n : N) -> (xs : Vec m a) -> (ys : Vec n a) -> Vec (plus m n) a
  pat (a : *) (n : N) (ys : Vec n a).
    append a Z n (Nil a) ys  =  ys
  pat (a : *) (m : N) (n : N) (x : a) (xs : Vec m a) (ys : Vec n a).
    append a (S m) n (Cons a m x xs) ys  =  Cons a (plus m n) x (append a m n xs ys)

main  -R-  Vec Z N
  = append N Z 1 (Nil N) (Cons N Z 42 (Nil N))

### Metaified ###

postulate N :?1: *

postulate Z :?2: N

postulate S :?3: (_ :?4: N) -> N

postulate Vec :?5: (_ :?6: N) -> (_ :?7: *) -> *

postulate Nil :?8: (a :?9: *) -> Vec -?11- Z -?10- a

postulate Cons :?12: (a :?13: *) -> (n :?14: N) -> (x :?15: a) -> (xs :?16: Vec -?18- n -?17- a) -> Vec -?20- (S -?21- n) -?19- a

plus :?22: (_ :?23: N) -> (_ :?24: N) -> N
  pat (n :?25: N).
    plus -?27- Z -?26- n  =  n
  pat (m :?28: N) (n :?29: N).
    plus -?31- (S -?32- m) -?30- n  =  S -?33- (plus -?35- m -?34- n)

append :?36: (a :?37: *) -> (m :?38: N) -> (n :?39: N) -> (xs :?40: Vec -?42- m -?41- a) -> (ys :?43: Vec -?45- n -?44- a) -> Vec -?47- (plus -?49- m -?48- n) -?46- a
  pat (a :?50: *) (n :?51: N) (ys :?52: Vec -?54- n -?53- a).
    append -?59- a -?58- Z -?57- n -?56- (Nil -?60- a) -?55- ys  =  ys
  pat (a :?61: *) (m :?62: N) (n :?63: N) (x :?64: a) (xs :?65: Vec -?67- m -?66- a) (ys :?68: Vec -?70- n -?69- a).
    append -?75- a -?74- (S -?76- m) -?73- n -?72- (Cons -?80- a -?79- m -?78- x -?77- xs) -?71- ys  =  Cons -?84- a -?83- (plus -?86- m -?85- n) -?82- x -?81- (append -?91- a -?90- m -?89- n -?88- xs -?87- ys)

main :!R: Vec -?93- Z -?92- N
  = append -?98- N -?97- Z -?96- 1 -?95- (Nil -?100- N) -?94- (Cons -?104- N -?103- Z -?102- 42 -?101- (Nil -?147- N))

### Inferred definitions ###

